@model IEnumerable<LibrARRRy.Models.Loan>
@{
    ViewBag.Title = "Loans";
}

<h2>Loans</h2>
<div>
    <table class="table table-hover" width="80%">
        <thead>
            <tr>
                <th style="text-align:center;">Cover</th>
                <th style="text-align:center;">ISBN</th>
                <th style="text-align:center;">Title</th>
                <th style="text-align:center;">Loanded Date</th>
                <th style="text-align:center;">Collection Date</th>
                <th style="text-align:center;">Loan Expire Date</th>
                <th style="text-align:center;">Returned Date</th>
                <th style="text-align:center;">Return</th>
            </tr>
        </thead>

        <tbody>
            @foreach (var book in Model)
            {
                <tr style="text-align:center">
                    <td style="width: 200px; align-content:center;"><img src="~/img/bookCover.jpg" style="width:200px;" /></td>
                    <td>@book.Book.ISBN</td>
                    <td>@book.Book.Title</td>
                    <td>@book.LoanedDate</td>
                    <td>@book.CollectionDate</td>
                    <td>@book.LoanExpireDate</td>
                    @if(book.ReturnedDate != null)
                    {
                        <td>@book.ReturnedDate</td>
                    }
                    else
                    {
                        <td>———</td>
                    }

                <td>
                    @if (book.ReturnedDate == null)
                    {
                        <button class="btn btn-info btn-sm" data-slno="@book.Book.BookId" onclick="location.href='@Url.Action("Return", "BookLoans", book.Book)'">
                            ✔
                        </button>
                    }
                    else
                    {
                        <button class="btn btn-info btn-sm" disabled>
                            ✔
                        </button>
                    }
                </td>
                </tr>
            }
        </tbody>
    </table>
</div>


